:root {
  --header-height: 88px;

  /* palette */
  --bg: #070c18;
  --card: #0d1426;
  --card-2: #0f182b;
  --line: #1b2440;
  --ink: #e7eeff;
  --ink-subtle: #9bb1db;
  --accent: #34d399;
  --accent-ink: #03281c;
  --danger: #ef4444;

  /* effects */
  --shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  --glow: 0 10px 40px rgba(52, 211, 153, 0.18);

  /* radius */
  --r-lg: 18px;
  --r-md: 12px;
}

/* space below sticky header */
.page-spacer {
  height: calc(var(--header-height) + 18px);
}

/* container */
.shell {
  max-width: 1360px; /* wider page so cards have room */
  margin: 0 auto 32px;
  padding: 0 18px;
  display: grid;
  gap: 22px;
}

/* tabs */
.tabs {
  position: sticky;
  top: calc(var(--header-height) + 8px);
  z-index: 5;
  display: flex;
  gap: 10px;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 8px 10px;
  box-shadow: var(--glow);
}
.tab {
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
  border: 1px solid transparent;
  background: transparent;
  color: #dfe7ff;
  transition: 0.18s ease;
}
.tab:hover {
  border-color: #29407a;
}
.tab.active {
  background: #132042;
  border-color: #29407a;
}

/* ---------- two cards per row, bigger cells ---------- */
.grid2 {
  display: grid;
  grid-template-columns: repeat(
    2,
    minmax(520px, 1fr)
  ); /* ensures each cell is roomy */
  gap: 22px;
}
@media (max-width: 1100px) {
  .grid2 {
    grid-template-columns: 1fr;
  }
}

/* cards */
.card {
  background: linear-gradient(180deg, var(--card) 0%, #0a1122 100%);
  border: 1px solid var(--line);
  border-radius: var(--r-lg);
  padding: 20px; /* bigger inner padding */
  box-shadow: var(--shadow);
  overflow: hidden; /* stop children from bleeding out */
  min-width: 0; /* allow grid to shrink content safely */
}
.card h2 {
  margin: 0 0 10px;
}

/* rows & inputs */
.row,
.row2 {
  display: grid;
  gap: 12px;
}
.row {
  grid-template-columns: repeat(3, 1fr);
}
.row2 {
  grid-template-columns: 1fr 1fr;
}
@media (max-width: 640px) {
  .row,
  .row2 {
    grid-template-columns: 1fr;
  }
}

label > input,
label > select,
.toolbar input {
  width: 100%;
  height: 44px; /* taller controls */
  font-size: 15px;
  border-radius: 12px;
  border: 1px solid #223259;
  background: #0a1430;
  color: var(--ink);
  padding: 10px 12px;
  outline: none;
}
label > input:focus,
label > select:focus,
.toolbar input:focus {
  border-color: #2f62c2;
  box-shadow: 0 0 0 3px rgba(47, 98, 194, 0.25);
}

/* toolbar / filters */
.toolbar {
  display: flex;
  gap: 12px;
  align-items: center;
  margin: 6px 0 12px;
  flex-wrap: wrap;
}
.tools {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}
.filters {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}
.chk {
  display: inline-flex;
  gap: 8px;
  align-items: center;
  background: #0c1833;
  border: 1px solid #20315a;
  padding: 8px 10px;
  border-radius: 10px;
}
.dates {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

/* list */
.list {
  display: grid;
  gap: 12px;
}

/* empty state */
.empty-muted:empty::after {
  content: "No trips yet. Add a leg to get started.";
  color: var(--ink-subtle);
  font-size: 14px;
}
.pad-empty:empty {
  padding: 8px 4px;
}

/* trip block */
.trip {
  background: var(--card-2);
  border: 1px solid var(--line);
  border-radius: var(--r-md);
  padding: 12px;
  transition: border-color 0.18s ease, box-shadow 0.18s ease;
  overflow: hidden;
}
.trip:hover {
  border-color: #2a3a66;
  box-shadow: var(--shadow);
}
.trip-h {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
  flex-wrap: wrap;
}
.trip-name {
  font-weight: 800;
  letter-spacing: 0.2px;
}
.pill {
  border: 1px solid #29407a;
  background: #102147;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
}
.pill-muted {
  background: #0d1b3a;
  border-color: #1d2f5a;
}

/* item (leg) */
.item {
  display: grid;
  grid-template-columns: auto auto 1fr auto;
  gap: 14px;
  align-items: center;
  background: #0b1429;
  border: 1px solid #162246;
  border-radius: var(--r-md);
  padding: 12px;
  word-break: break-word; /* long city names wonâ€™t push layout */
}
.item .ico {
  font-size: 24px;
}
.item .item-top {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

/* selection tick */
.tick {
  display: inline-grid;
  place-items: center;
  width: 22px;
  height: 22px;
}
.tick input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}
.tick .fake {
  width: 20px;
  height: 20px;
  border-radius: 6px;
  border: 1px solid #24355f;
  background: #0b1429;
  display: block;
}
.item.selected .tick .fake {
  outline: 2px solid #3ea27f;
  box-shadow: inset 0 0 0 100px rgba(62, 162, 127, 0.25);
}
.item.selected {
  border-color: #2a3a66;
  box-shadow: 0 0 0 2px rgba(52, 211, 153, 0.25);
}

/* details editor */
.edit {
  display: grid;
  gap: 10px;
  background: #0b1429;
  border: 1px dashed #2b3c6a;
  border-radius: var(--r-md);
  padding: 12px;
  margin-top: 10px;
}
details.edit > summary {
  cursor: pointer;
  list-style: none;
}
details.edit > summary::-webkit-details-marker {
  display: none;
}
details.edit[open] {
  border-style: solid;
}

/* bulk bar (wraps instead of overflowing) */
.bulk {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  padding: 12px;
  background: #0d1b31;
  border: 1px solid #20315a;
  border-radius: 12px;
  margin: 8px 0 12px;
}
.bulk .spacer {
  flex: 1;
}
.inline {
  display: inline-flex;
  gap: 8px;
  align-items: center;
}

/* totals + chips */
.sum {
  display: grid;
  gap: 10px;
}
.line {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.small {
  font-size: 12px;
}
.muted {
  color: var(--ink-subtle);
}

.meta {
  margin-top: 14px;
}
.meta-h {
  font-size: 14px;
  margin: 0 0 6px;
}
.chips {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.chip {
  background: #0c1833;
  border: 1px solid #20315a;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
}

/* divider (horizontal rule) */
.rule {
  display: block;
  border: none;
  border-top: 1px solid var(--line);
  height: 0;
  margin: 14px 0;
}

/* ------------------ BUTTONS: refreshed ------------------ */
button {
  font: inherit;
  color: var(--ink);
}

/* solid primary */
.btn {
  background: linear-gradient(180deg, #39e2ac 0%, #22c08a 100%);
  color: var(--accent-ink);
  border: 1px solid #22c08a;
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 700;
  letter-spacing: 0.2px;
  box-shadow: 0 6px 18px rgba(34, 192, 138, 0.25);
  transition: transform 0.06s ease, filter 0.12s ease, box-shadow 0.12s ease;
}
.btn:hover {
  filter: brightness(1.02);
  box-shadow: 0 10px 24px rgba(34, 192, 138, 0.28);
}
.btn:active {
  transform: translateY(1px);
}

/* outline/ghost */
.btn-ghost {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid #2a3a66;
  border-radius: 12px;
  padding: 9px 14px;
  transition: background 0.12s ease, border-color 0.12s ease,
    transform 0.06s ease;
}
.btn-ghost:hover {
  background: #132042;
  border-color: #34549c;
}
.btn-ghost:active {
  transform: translateY(1px);
}

/* danger modifier */
.danger {
  border-color: rgba(239, 68, 68, 0.6) !important;
  color: #ffd7d7;
}
.danger:hover {
  background: rgba(239, 68, 68, 0.15);
  border-color: rgba(239, 68, 68, 0.9) !important;
}

/* compact variant used in list */
.btn-ghost.small {
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 10px;
}

/* utility */
.grow {
  flex: 1;
}
