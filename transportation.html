<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Transportation ‚Äî Travel</title>
    <link rel="stylesheet" href="./CSS/main.css" />
    <link rel="stylesheet" href="./CSS/transportation.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="site-header">
      <div class="header-left">
        <a class="logo-button" href="main.html" aria-label="Home">
          <img src="./assets/logo.png" alt="" />
        </a>
      </div>
      <nav class="header-center">
        <ul class="nav">
          <li><a href="places/INDmap.html">Explore</a></li>
          <li>
            <a href="transportation.html" aria-current="page">Transportation</a>
          </li>
          <li><a href="deals.html">Deals</a></li>
          <li><a href="about.html">About Us</a></li>
        </ul>
      </nav>
      <div class="header-right">
        <button
          id="settingsBtn"
          class="icon-btn guest-only"
          aria-haspopup="menu"
          aria-expanded="false"
          aria-controls="settingsMenu"
        >
          ‚öôÔ∏è
        </button>
        <button
          id="avatarBtn"
          class="avatar-btn auth-only"
          aria-haspopup="menu"
          aria-expanded="false"
          aria-controls="userMenu"
        >
          <span id="avatarInitial">U</span>
        </button>
        <div
          id="settingsMenu"
          class="menu guest-only"
          role="menu"
          aria-hidden="true"
        >
          <a class="menu-item" href="auth.html?tab=login">Login</a>
          <a class="menu-item" href="auth.html?tab=register">Register</a>
        </div>
        <div
          id="userMenu"
          class="menu auth-only"
          role="menu"
          aria-hidden="true"
        >
          <a class="menu-item" href="account.html" role="menuitem">Account</a>
          <a class="menu-item" href="currenttrip.html" role="menuitem"
            >Your Current Trip</a
          >
          <a class="menu-item" href="points.html" role="menuitem"
            >Points Redeem</a
          >
          <a class="menu-item" href="cart.html" role="menuitem">Cart</a>
          <button class="menu-item danger" id="logoutBtn" role="menuitem">
            Logout
          </button>
        </div>
      </div>
    </header>

    <!-- Space below header -->
    <div class="page-spacer"></div>

    <main class="shell">
      <div class="tabs" role="tablist" aria-label="Transportation tabs">
        <button
          class="tab active"
          data-tab="booking"
          role="tab"
          aria-selected="true"
        >
          Booking
        </button>
        <button class="tab" data-tab="manual" role="tab" aria-selected="false">
          Already booked
        </button>
      </div>

      <!-- BOOKING -->
      <!-- BOOKING -->
      <section data-panel="booking">
        <!-- Row 1: Add leg | Trips -->
        <div class="grid2">
          <div class="card">
            <h2>Add leg</h2>
            <div class="row2">
              <label
                >Trip
                <select id="tripSel" aria-label="Select trip"></select>
              </label>
              <label
                >Rename trip
                <input id="tripName" placeholder="Trip 1" />
              </label>
            </div>

            <div class="row" style="margin-top: 10px">
              <label
                >Mode
                <select id="mode">
                  <option value="flight">‚úàÔ∏è Flight</option>
                  <option value="train">üöÜ Train</option>
                  <option value="bus">üöå Bus</option>
                  <option value="car">üöó Car rental</option>
                </select>
              </label>
              <label>From <input id="from" placeholder="City/Code" /></label>
              <label>To <input id="to" placeholder="City/Code" /></label>
            </div>

            <div class="row2" style="margin-top: 10px">
              <label
                >Date <input id="date" type="date" placeholder="yyyy-mm-dd"
              /></label>
              <label
                >Price (‚Çπ)
                <input id="price" type="number" min="0" inputmode="numeric"
              /></label>
            </div>

            <div class="btns" style="margin-top: 12px">
              <button class="btn" id="add">Add leg</button>
              <button class="btn-ghost" id="newTrip">New Trip</button>
            </div>
          </div>

          <div class="card">
            <h2>Trips</h2>

            <!-- Bulk actions -->
            <div class="bulk" id="bulkBar" hidden>
              <span id="selCount">0</span> selected
              <div class="spacer"></div>
              <label class="inline"
                >Move to
                <select id="moveToTripSel" style="min-width: 140px"></select>
              </label>
              <button class="btn-ghost" id="moveToTrip">Move</button>
              <button class="btn-ghost" id="bulkEdit">Edit</button>
              <button class="btn-ghost danger" id="bulkDelete">Remove</button>
              <button class="btn-ghost" id="bulkClear">Clear</button>
            </div>

            <div id="trips" class="list empty-muted pad-empty"></div>
          </div>
        </div>

        <!-- Row 2: Totals only (full width) -->
        <div class="grid1">
          <aside class="card">
            <h2>Totals & actions</h2>

            <div class="btns" style="margin-bottom: 8px">
              <button class="btn-ghost" id="dupTrip">Duplicate trip</button>
              <button class="btn-ghost danger" id="clearTrip">
                Clear trip
              </button>
            </div>

            <hr class="rule" />

            <div class="sum">
              <div class="line">
                <span>All trips total</span>
                <strong id="grand">‚Çπ0</strong>
              </div>
              <div class="muted small" id="breakdown">‚Äî</div>
            </div>

            <div class="meta">
              <h3 class="meta-h">By mode</h3>
              <div id="modeTotals" class="chips"></div>
            </div>

            <div class="meta">
              <h3 class="meta-h">Rates</h3>
              <div class="row2">
                <label
                  >Service %
                  <input id="svcPct" type="number" step="0.1" min="0"
                /></label>
                <label
                  >Tax % <input id="taxPct" type="number" step="0.1" min="0"
                /></label>
              </div>
              <div class="btns" style="margin-top: 8px">
                <button class="btn-ghost" id="saveRates">Save rates</button>
                <button class="btn-ghost" id="resetRates">Reset</button>
              </div>
            </div>
          </aside>
        </div>
      </section>

      <!-- ALREADY BOOKED -->
      <section data-panel="manual" hidden>
        <div class="grid2">
          <div class="card">
            <h2>Record a booking</h2>
            <p class="small muted">
              If you booked elsewhere, keep the details here.
            </p>
            <div class="row2">
              <label
                >Trip
                <select id="mTripSel"></select>
              </label>
              <label
                >Provider <input id="mProv" placeholder="Airline/Operator"
              /></label>
            </div>
            <div class="row" style="margin-top: 10px">
              <label>From <input id="mFrom" /></label>
              <label>To <input id="mTo" /></label>
              <label>Date <input id="mDate" type="date" /></label>
            </div>
            <div class="row2" style="margin-top: 10px">
              <label>PNR / Ref <input id="mRef" /></label>
              <label
                >Amount (‚Çπ) <input id="mAmt" type="number" min="0"
              /></label>
            </div>
            <div class="btns" style="margin-top: 12px">
              <button class="btn" id="mAdd">Save record</button>
            </div>
          </div>

          <div class="card">
            <h2>Saved records</h2>
            <div id="manualList" class="list"></div>
          </div>
        </div>
      </section>
    </main>

    <div id="toasts"></div>

    <script src="./JS/main.js"></script>
    <script src="./JS/transportation.js"></script>
  </body>
</html>
